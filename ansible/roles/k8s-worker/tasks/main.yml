---
# tasks file for k8s-worker

# ensure this:
# https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#letting-iptables-see-bridged-traffic
- name: Gather facts
  setup:

- name: Configure system
  include_tasks: conf.yml

- name: Install CNI
  include_tasks: cni.yml

- name: Install container runtime
  include_tasks: containerd.yml

- name: Install Kubernetes binaries
  include: bins.yml